<html lang="ko" class="no-js">

<head>
    <title>연도별 순위</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="js/melonchart(90~99).js"></script>
    <script type="text/javascript" src="js/melonchart(00~09).js"></script>
    <script type="text/javascript" src="js/melonchart(10~19).js"></script>
    <script type="text/javascript" src="js/youtube.js"></script>
    <script type="text/javascript" src="js/period.js"></script>
    <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
    <audio id="audio" preload="auto" display="none">
        <source src="" type="audio/mp3" />
    </audio>
</head>

<body
    style="max-width:100%; max-height:100%; left:0; right:0; top:0; bottom:0; margin:auto; overflow:auto; position:fixed;">
    <div name="home">
        <table height=20% width=100%>
            <tr>
                <td class="top-left" width=33.33% style="cursor:hand" onclick="location.href='./10.html'">2010<br>~2019
                </td>
                <td class="top-cent" width=33.33% style="cursor:hand" onclick="location.href='./00.html'">2000<br>~2009
                </td>
                <td class="top-right" width=33.33% style="cursor:hand" onclick="location.href='./90.html'">1990<br>~1999
                </td>
            </tr>
            <tr>
                <td class="down-left" width=33.33% style="cursor:hand" onclick="location.href='./index.html'">시대별<br>차트
                </td>
                <td class="down-cent" width=33.33% style="cursor:hand" onclick="location.href='./3m_challenge.html'">
                    도전<br>지니어스</td>
                <td class="down-right" width=33.33% style="cursor:hand" onclick="location.href='./ranking.html'">랭킹</td>
            </tr>
        </table>

        <table height=6.6% width=100%>
            <tr height=100% width=100%>
                <td width=50% style="background-image: url(img/7_1.png); background-size: 100% 100%;">
                    <select id="year" onchange="year_change()" style="font-size:100%;">
                        <option>년도</option>
                        <option value="0">1990</option>
                        <option value="1">1991</option>
                        <option value="2">1992</option>
                        <option value="3">1993</option>
                        <option value="4">1994</option>
                        <option value="5">1995</option>
                        <option value="6">1996</option>
                        <option value="7">1997</option>
                        <option value="8">1998</option>
                        <option value="9">1999</option>
                        <option value="10">2000</option>
                        <option value="11">2001</option>
                        <option value="12">2002</option>
                        <option value="13">2003</option>
                        <option value="14">2004</option>
                        <option value="15">2005</option>
                        <option value="16">2006</option>
                        <option value="17">2007</option>
                        <option value="18">2008</option>
                        <option value="19">2009</option>
                        <option value="20">2010</option>
                        <option value="21">2011</option>
                        <option value="22">2012</option>
                        <option value="23">2013</option>
                        <option value="24">2014</option>
                        <option value="25">2015</option>
                        <option value="26">2016</option>
                        <option value="27">2017</option>
                        <option value="28">2018</option>
                        <option value="29">2019</option>
                    </select>
                </td>
                <td width=50% style="background-image: url(img/7_2.png); background-size: 100% 100%;">
                    <select id="rank" onchange="rank_change()" style="font-size:100%;">
                        <option>순위</option>
                        <option value="0">1위</option>
                        <option value="1">2위</option>
                        <option value="2">3위</option>
                        <option value="3">4위</option>
                        <option value="4">5위</option>
                        <option value="5">6위</option>
                        <option value="6">7위</option>
                        <option value="7">8위</option>
                        <option value="8">9위</option>
                        <option value="9">10위</option>
                        <option value="10">11위</option>
                        <option value="11">12위</option>
                        <option value="12">13위</option>
                        <option value="13">14위</option>
                        <option value="14">15위</option>
                        <option value="15">16위</option>
                        <option value="16">17위</option>
                        <option value="17">18위</option>
                        <option value="18">19위</option>
                        <option value="19">20위</option>
                        <option value="20">21위</option>
                        <option value="21">22위</option>
                        <option value="22">23위</option>
                        <option value="23">24위</option>
                        <option value="24">25위</option>
                        <option value="25">26위</option>
                        <option value="26">27위</option>
                        <option value="27">28위</option>
                        <option value="28">29위</option>
                        <option value="29">30위</option>
                        <option value="30">31위</option>
                        <option value="31">32위</option>
                        <option value="32">33위</option>
                        <option value="33">34위</option>
                        <option value="34">35위</option>
                        <option value="35">36위</option>
                        <option value="36">37위</option>
                        <option value="37">38위</option>
                        <option value="38">39위</option>
                        <option value="39">40위</option>
                        <option value="40">41위</option>
                        <option value="41">42위</option>
                        <option value="42">43위</option>
                        <option value="43">44위</option>
                        <option value="44">45위</option>
                        <option value="45">46위</option>
                        <option value="46">47위</option>
                        <option value="47">48위</option>
                        <option value="48">49위</option>
                        <option value="49">50위</option>
                    </select>
                </td>
            </tr>
        </table>
        <table height=13.4% width=100%>
            <tr height=50% width=100%>
                <td id="print" height=100% width=67.77%>
                </td>
                <td class="answer" height=100% width=33.33% style="color:white;" onclick="answer(event)">
                    정 &nbsp;답<br>확 &nbsp;인
                </td>
            </tr>
        </table>
        <div class="play-container">
            <table height=50% width=100% background-color="none">
                <tr>
                    <!--1행-->
                    <td id="play" class="play" width=67.77% height=100% onclick="control(event)">
                    </td>
                    <td class="slider-background" width=33.33% height=100%>
                        <div class="slider-container" style="align-items: center;">
                            <span class="slider-bar"><span class="fill"></span></span>
                            <input name="sec_selecor" orient="vertical" class="slider" id="a" type="range" min="0.5"
                                max="2.0" step="0.5" value="0.5"
                                oninput="document.getElementById('result').innerHTML=this.value;"
                                onclick="myfunction()">
                            <div id="result_container"><text id="result" style="color:white">0.5</text>[S]</div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <table height=10% width=100% background-color="none">
            <tr>
                <td width=67.77% height=100% style="color:white" id="nextsong_container" onclick="youtube()">노래 들으러
                    가기<br>(YOUTUBE로 이동합니다)
                </td>
                <td class="next" width=33.33% height=100% onclick="next_random(event)">
                </td>
            </tr>
        </table>
    </div>
    <div id="log">
    </div>

    <script type="text/javascript">
        let audio_opt = {

        };
        let log = document.querySelector('#log');
        log.style.position='fixed';
        log.style.top = '0px';
        log.style.left = '0px';
        log.style.right = '0px';
        log.style.background = 'black';
        log.style.display="none";
        log.addEventListener('click', ()=>{
            log.innerHTML='';
        })

        var audio = document.getElementById("audio");
        setInterval(()=>{
            if(audio_opt.playing) {
                let log = document.querySelector('#log');
                //log.textContent = audio.currentTime;
                if(audio_opt.stopTime <= audio.currentTime) {
                    delete audio_opt.playing;
                    delete audio_opt.stopTime;
                    audio.pause();
                    audio.currentTime=0;
                }
            }
        },1000/60);
        let log_= function(str){
            let log = document.querySelector('#log');
            let row = document.createElement('div');
            
            row.innerText=Math.round(performance.now())+ ' : ' +str;
            log.appendChild(row);
        }

        document.getElementById('a').value = 0.5;
        document.getElementById('result').innerHTML = 0.5;
        ts = 0.5;
        var playtimer;
        function myfunction() {
            ts = document.getElementById('result').innerHTML;
        }
        function pause() {
            let end_time = ts * 1000;
            setTimeout(function () {
                audio.pause();
                audio.currentTime = 0;
            }, end_time);
        }
        audio.addEventListener('playing', () => {
        //    log_('playing');
        });
        audio.addEventListener('timeupdate', () => {
        //    log_('timeupdate');
        });
        audio.addEventListener('loadeddata', () => {
            log_('로딩완료');
        });
        audio.addEventListener('pause', () => {
        });
        audio.addEventListener('play', () => {
        });

        function control(e) {
            //log_('터치함');
            audio.currentTime=0;
            audio_opt.playing = true;
            audio_opt.stopTime = Number(document.getElementById('result').innerHTML);
            audio.play(); 
        }
        var year, rank, file, year_v, rank_v, title, u_src;
        //연도 선택
        function year_change() {
            if (year_v != 100) {
                document.getElementById('print').innerHTML = " ";
            }
            var y = document.getElementById("year");
            year = y.options[y.selectedIndex].value;
            year_v = y.value;
            document.getElementById('a').value = 0.5;
            document.getElementById('result').innerHTML = 0.5;
            ts = 0.5;
            player_load();
            //정답 확인을 누르세요 그림 추가 필요
        };

        //순위 선택
        function rank_change() {
            if (rank_v != 100) {
                document.getElementById('print').innerHTML = " ";
            }
            var r = document.getElementById("rank");
            rank = r.options[r.selectedIndex].text;
            rank_v = r.value;
            document.getElementById('a').value = 0.5;
            document.getElementById('result').innerHTML = 0.5;
            ts = 0.5;
            player_load();
            //정답 확인을 누르세요 그림 추가 필요
            console.log(title);
        };

        //정답화면
        function answer(event) {
            if (title == undefined) {title = " ";}
            document.getElementById('print').innerHTML = title;
        }

        //유튜브
        function youtube(){
            location.href=u_src;
            console.log(u_src);
        }
    </script>
    <script>
        $(function () {
            $('html').removeClass('no-js');
        });
    </script>
</body>
<style>
    .down-left {
        background: url('img/4.png');
        background-repeat: no-repeat;
        background-position: center;
        background-size: 100% 100%;
        color: red;
        border-radius: 0px 0px 0px 0px/ 0px 0px 0px 0px;
    }
</style>

</html>