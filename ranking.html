<html lang="ko">

<head>
    <title>랭킹</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="search" href="3m_challenge.html">
    <script src="https://code.jquery.com/jquery-2.0.3.min.js"></script>
</head>

<body
    style="max-width:100%; max-height:100%; left:0; right:0; top:0; bottom:0; margin:auto; overflow:auto; position:fixed;">
    <div name="home" style="display:top;">
        <table height=20% width=100%>
            <tr>
                <td class="top-left" width=33.33% style="cursor:hand" onclick="location.href='./10.html'">2010<br>~2019
                </td>
                <td class="top-cent" width=33.33% style="cursor:hand" onclick="location.href='./00.html'">2000<br>~2009
                </td>
                <td class="top-right" width=33.33% style="cursor:hand" onclick="location.href='./90.html'">1990<br>~1999
                </td>
            </tr>
            <tr>
                <td class="down-left" width=33.33% style="cursor:hand" onclick="location.href='./index.html'">시대별<br>차트
                </td>
                <td class="down-cent" width=33.33% style="cursor:hand" onclick="location.href='./3m_challenge.html'">
                    도전<br>지니어스</td>
                <td class="down-right" width=33.33% style="cursor:hand" onclick="location.href='./ranking.html'">랭킹</td>
            </tr>
        </table>
        <div class="myranktables1" style="display:top;">
            <table height=15% width=100% background-color="black" id="rankingboard">
                <tr width=100%>
                    <td width=100% id="MusicGenius">
                        - Music Genius -<br>
                        <p id="one"></p><br>
                        <p id="one_score"></p>
                    </td>
                </tr>
            </table>
            <table height=15% width=100% background-color="black" id="rankingboard1_1">
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <p id="two"></p>
                    </td>
                    <td width=49%>
                        <p id="two_sc"></p>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <p id="three"></p>
                    </td>
                    <td width=49%>
                        <p id="three_sc"></p>
                    </td>
                </tr>
            </table>
        </div>
        <div class="myranktables" style="display:top;">
            <table height=22.5% width=100% background-color="black" id="rankingboard2">
                <tr height=15%></tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="four"></pp>
                    </td>
                    <td width=49%>
                        <pp id="four_sc"></pp>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="five"></pp>
                    </td>
                    <td width=29%>
                        <pp id="five_sc"></pp>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="six"></pp>
                    </td>
                    <td width=29%>
                        <pp id="six_sc"></pp>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="seven"></pp>
                    </td>
                    <td width=29%>
                        <pp id="seven_sc"></pp>
                    </td>
                </tr>
            </table>
            <table height=5% width=100% background-color="black" id="rankingboard3">
                <tr width=100%>
                    <td colspan="2" width=32% id="eightrank"></td>
                    <td colspan="1" width=26% style="color:white;">
                        <pp id="eight"></pp>
                    </td>
                    <td id="eightscore"></td>
                </tr>
            </table>
            <table height=22.5% width=100% background-color="black" id="rankingboard4">
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="nine"></pp>
                    </td>
                    <td width=49%>
                        <pp id="nine_sc"></pp>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="ten"></pp>
                    </td>
                    <td width=29%>
                        <pp id="ten_sc"></pp>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="eleven"></pp>
                    </td>
                    <td width=29%>
                        <pp id="eleven_sc"></pp>
                    </td>
                </tr>
                <tr width=100%>
                    <td width=30%></td>
                    <td width=26% style="color:white;">
                        <pp id="twelve"></pp>
                    </td>
                    <td width=29%>
                        <pp id="twelve_sc"></pp>
                    </td>
                </tr>
                <tr height=15%></tr>
            </table>
        </div>
    </div>
    <script language="javascript"> //3분 챌린지용
        var id = localStorage.getItem('myid');
        var k;
        var initt = 0;
        var nick = new Array;
        var score = new Array;
        if (initt == 0) rankcall();
        function rankcall() {
            var GSSurl = "https://spreadsheets.google.com/feeds/list/1Y7n0HUAnJ13u-6B6m0bo4E3hXjdcsgLx_-Qgj59RCsI/2/public/basic?alt=json-in-script&callback=?";
            $.getJSON(GSSurl, function (data) {
                var entry = data.feed.entry;//구글 스프레드 시트의 모든 내용은 feed.entry에 담겨있습니다.
                for (var i in entry) { // 각 행에대해 아래 스크립트를 실행합니다.
                    nick[i] = (entry[i].title.$t);// .title.$t 에는 1행의 내용이 들어있습니다.
                    score[i] = (entry[i].content.$t);// .content.$t 에는 나머지행의 데이터가 header정보와 함께 들어있습니다.
                    callnickscore(i);
                }
                //test=document.all.ranking_board.innerHTML="55";
            });
            initt = 1;
        }

        function callnickscore(i) {
            document.all.one.innerHTML = nick[0];
            document.all.one_score.innerHTML = score[0];
            document.all.two.innerHTML = "2위" + " " + nick[1];
            document.all.two_sc.innerHTML = score[1];
            document.all.three.innerHTML = "3위" + " " + nick[2];
            document.all.three_sc.innerHTML = score[2];

            if (id == nick[i]) {
                k = i;
            }
            if (id == null) {
                document.all.rankingboard3.innerHTML = "<font color=yellow><b>도전 1000곡을 진행해 랭킹을 등록하세요</b></font>";
                document.getElementById("rankingboard3").style.fontSize = 1.3 + 'em';
            }
            else if (id != null) {
                document.all.four.innerHTML = (k - 3) + "위" + " " + nick[k - 4];
                document.all.four_sc.innerHTML = score[k - 4];
                document.all.five.innerHTML = (k - 2) + "위" + " " + nick[k - 3];
                document.all.five_sc.innerHTML = score[k - 3];
                document.all.six.innerHTML = (k - 1) + "위" + " " + nick[k - 2];
                document.all.six_sc.innerHTML = score[k - 2];
                document.all.seven.innerHTML = (k) + "위" + " " + nick[k - 1];
                document.all.seven_sc.innerHTML = score[k - 1];
                document.all.eightrank.innerHTML = (k - (-1)) + "위";
                document.all.eight.innerHTML = nick[k];
                document.all.eightscore.innerHTML = score[k];
                document.all.nine.innerHTML = (k - (-2)) + "위" + " " + nick[k - (-1)];
                document.all.nine_sc.innerHTML = score[k - (-1)];
                document.all.ten.innerHTML = (k - (-3)) + "위" + " " + nick[k - (-2)];
                document.all.ten_sc.innerHTML = score[k - (-2)];
                document.all.eleven.innerHTML = (k - (-4)) + "위" + " " + nick[k - (-3)];
                document.all.eleven_sc.innerHTML = score[k - (-3)];
                document.all.twelve.innerHTML = (k - (-5)) + "위" + " " + nick[k - (-4)];
                document.all.twelve_sc.innerHTML = score[k - (-4)];

                if ((k - (-1)) == 1) {
                    document.all.four.innerHTML = "";
                    document.all.four_sc.innerHTML = "";
                    document.all.five.innerHTML = "";
                    document.all.five_sc.innerHTML = "";
                    document.all.six.innerHTML = "";
                    document.all.six_sc.innerHTML = "";
                    document.all.seven.innerHTML = "";
                    document.all.seven_sc.innerHTML = "";
                }
                if ((k - (-1)) == 2) {
                    document.all.four.innerHTML = "";
                    document.all.four_sc.innerHTML = "";
                    document.all.five.innerHTML = "";
                    document.all.five_sc.innerHTML = "";
                    document.all.six.innerHTML = "";
                    document.all.six_sc.innerHTML = "";
                }
                if ((k - (-1)) == 3) {
                    document.all.four.innerHTML = "";
                    document.all.four_sc.innerHTML = "";
                    document.all.five.innerHTML = "";
                    document.all.five_sc.innerHTML = "";
                }
                if ((k - (-1)) == 4) {
                    document.all.four.innerHTML = "";
                    document.all.four_sc.innerHTML = "";
                }
            }

        }
    </script>
</body>

<style>
    .down-right {
        background: url('img/6.png');
        background-repeat: no-repeat;
        background-position: center;
        background-size: 100% 100%;
        color: red;
        border-radius: 0px 0px 0px 0px/ 0px 0px 0px 0px;
    }
</style>

</html>